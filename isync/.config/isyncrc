# https://github.com/neomutt/neomutt/tree/main/contrib/oauth2

# Microsoft work account
IMAPAccount izertis
Host localhost
Port 1143
UserCmd "op item get u6k3e4k4gzbmxl76zbxphtutyi --field username --reveal"
Pass ""
TLSType None
AuthMech LOGIN

IMAPStore izertis-remote
Account izertis

MaildirStore izertis-local
Path ~/Mail/izertis/
Inbox ~/Mail/izertis/INBOX
SubFolders Verbatim

Channel izertis-channel
Far :izertis-remote:
Near :izertis-local:
Create Both
Expunge Both
Patterns *
SyncState *
CopyArrivalDate yes
Sync All

# Gmail personal account
IMAPAccount gmail-personal
Host imap.gmail.com
Port 993
TLSType IMAPS
UserCmd "op item get v3hyvpc4e7oapibxqso4rferiy --field username --reveal"
AuthMechs XOAUTH2
PassCmd "mutt_oauth2.py ~/.config/mbsync/personal@gmail.com.tokens --provider google --format token"

IMAPStore gmail-personal-remote
Account gmail-personal

MaildirStore gmail-personal-local
Path ~/Mail/gmail-personal/
Inbox ~/Mail/gmail-personal/INBOX
SubFolders Verbatim

Channel gmail-personal-channel
Far :gmail-personal-remote:
Near :gmail-personal-local:
Create Both
Expunge Both
Patterns *
SyncState *
CopyArrivalDate yes
Sync All

